<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Soporte - para el Stand de la feria del libro Feria del Libro</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .header {
            background-color: #343a40;
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }
        .section-card {
            margin-bottom: 2rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        .section-title {
            background-color: #6c757d;
            color: white;
            padding: 1rem;
            margin-bottom: 0;
        }
        .section-body {
            padding: 1.5rem;
            background-color: white;
        }
        .qr-container {
            text-align: center;
            padding: 1rem;
        }
        .qr-image {
            max-width: 200px;
            margin-bottom: 1rem;
        }
        .alarm-active {
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(220, 53, 69, 0); }
            100% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0); }
        }
        .excel-container {
            width: 100%;
            height: 400px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header text-center">
        <h1><i class="fas fa-book-open me-2"></i>Feria del Libro - Soporte</h1>
        <p class="lead">Recursos de ayuda y atención al público</p>
    </div>

    <div class="container">
        <!-- Sección de Formulario de Registro -->
        <div class="section-card">
            <h3 class="section-title"><i class="fas fa-clipboard-list me-2"></i>Formulario de Registro de Atención</h3>
            <div class="section-body">
                <p>Por favor complete el siguiente formulario para registrar su solicitud de atención:</p>
                <div class="ratio ratio-16x9">
                    <!-- Reemplaza con el enlace embebido de tu Google Form -->
                    <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSf.../viewform?embedded=true" frameborder="0" marginheight="0" marginwidth="0">Cargando…</iframe>
                </div>
            </div>
        </div>

        <!-- Sección de Reloj de Atención -->
        <div class="section-card" id="reloj-section">
            <h3 class="section-title"><i class="fas fa-clock me-2"></i>Reloj de Atención</h3>
            <div class="section-body text-center">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <div class="display-4 mb-3" id="reloj">00:00:00</div>
                        <div class="mb-3">
                            <span id="alarm-status" class="badge bg-secondary">Alarma inactiva</span>
                        </div>
                        <button id="toggle-alarm" class="btn btn-primary">
                            <i class="fas fa-bell me-2"></i>Activar Alarma (20 min)
                        </button>
                    </div>
                    <div class="col-md-6">
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle me-2"></i>
                            La alarma sonará cada 20 minutos para recordar los cambios de turno.
                        </div>
                        <audio id="alarm-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-alarm-digital-clock-beep-989.mp3" preload="auto"></audio>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sección de Contacto por WhatsApp -->
        <div class="section-card">
            <h3 class="section-title"><i class="fab fa-whatsapp me-2"></i>Contacto por WhatsApp</h3>
            <div class="section-body">
                <div class="row">
                    <div class="col-md-6 qr-container">
                        <!-- Reemplaza con tu QR real -->
                        <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://wa.me/5491112345678?text=Hola%20Feria%20del%20Libro,%20soy%20[Usuario]" alt="QR de WhatsApp" class="qr-image img-fluid">
                        <p>Escanee el código QR para chatear con un agente de soporte</p>
                    </div>
                    <div class="col-md-6">
                        <h4>Instrucciones:</h4>
                        <ol>
                            <li>Abra la aplicación de WhatsApp en su dispositivo</li>
                            <li>Escanee el código QR o haga clic en el enlace</li>
                            <li>El mensaje se abrirá automáticamente con el saludo:</li>
                        </ol>
                        <div class="alert alert-success">
                            <strong>Hola, Feria del Libro. Soy [Usuario]</strong>
                        </div>
                        <p>Complete [Usuario] con su nombre para identificarse</p>
                        <a href="https://wa.me/5491112345678?text=Hola%20Feria%20del%20Libro,%20soy%20[Usuario]" class="btn btn-success">
                            <i class="fab fa-whatsapp me-2"></i>Abrir WhatsApp
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sección de Horarios y Coordinadores -->
        <div class="section-card">
            <h3 class="section-title"><i class="fas fa-calendar-alt me-2"></i>Horarios y Coordinadores</h3>
            <div class="section-body">
                <p>Consulte a continuación los horarios de atención y los coordinadores asignados:</p>
                
                <!-- Widget embebido de Excel/Google Sheets -->
                <div class="excel-container">
                    <!-- Reemplaza con el enlace embebido de tu hoja de cálculo -->
                    <iframe src="https://docs.google.com/spreadsheets/d/e/2PACX-.../pubhtml?widget=true&amp;headers=false"></iframe>
                </div>
                
                <div class="alert alert-warning mt-3">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    Los horarios están sujetos a cambios. Consulte periódicamente para actualizaciones.
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-4">
        <p class="mb-0">Feria del Libro © 2025 - Todos los derechos reservados</p>
    </footer>

    <!-- Bootstrap JS y dependencias -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Reloj y alarma
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('reloj').textContent = `${hours}:${minutes}:${seconds}`;
        }
        
        setInterval(updateClock, 1000);
        updateClock();
        
        // Configuración de la alarma
        let alarmInterval;
        let alarmActive = false;
        const alarmSound = document.getElementById('alarm-sound');
        const toggleButton = document.getElementById('toggle-alarm');
        const alarmStatus = document.getElementById('alarm-status');
        const relojSection = document.getElementById('reloj-section');
        
        function toggleAlarm() {
            if (alarmActive) {
                clearInterval(alarmInterval);
                alarmActive = false;
                toggleButton.innerHTML = '<i class="fas fa-bell me-2"></i>Activar Alarma (20 min)';
                toggleButton.className = 'btn btn-primary';
                alarmStatus.textContent = 'Alarma inactiva';
                alarmStatus.className = 'badge bg-secondary';
                relojSection.classList.remove('alarm-active');
            } else {
                startAlarm();
                alarmActive = true;
                toggleButton.innerHTML = '<i class="fas fa-bell-slash me-2"></i>Desactivar Alarma';
                toggleButton.className = 'btn btn-danger';
                alarmStatus.textContent = 'Alarma activa (sonará cada 20 min)';
                alarmStatus.className = 'badge bg-success';
                relojSection.classList.add('alarm-active');
            }
        }
        
        function startAlarm() {
            // Sonar inmediatamente al activar
            playAlarm();
            
            // Configurar intervalo de 20 minutos (1200000 ms)
            // Para pruebas puedes usar 20000 ms (20 segundos)
            alarmInterval = setInterval(playAlarm, 1200000);
        }
        
        function playAlarm() {
            alarmSound.play();
            relojSection.classList.add('alarm-active');
            setTimeout(() => {
                relojSection.classList.remove('alarm-active');
            }, 1000);
        }
        
        toggleButton.addEventListener('click', toggleAlarm);
    </script>
</body>
</html>
